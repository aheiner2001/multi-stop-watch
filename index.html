<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stopwatches</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d1b2a;
    --surface: #132236;
    --surface2: #1a2e47;
    --border: #1f3854;
    --accent: #4a9eff;
    --accent-dim: rgba(74, 158, 255, 0.15);
    --green: #3dd68c;
    --green-dim: rgba(61, 214, 140, 0.15);
    --red: #ff6b6b;
    --red-dim: rgba(255, 107, 107, 0.12);
    --text: #e8f0fe;
    --text-muted: #5a7a9a;
    --text-dim: #8aabcc;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    min-height: 100vh;
    padding: 40px 24px 80px;
  }

  header {
    text-align: center;
    margin-bottom: 48px;
  }

  header h1 {
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    font-weight: 400;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: 8px;
  }

  header p {
    font-size: 13px;
    color: var(--text-muted);
  }

  .add-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin: 0 auto 40px;
    background: var(--accent-dim);
    border: 1px solid var(--accent);
    color: var(--accent);
    padding: 12px 28px;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    letter-spacing: 0.02em;
  }

  .add-btn:hover { background: rgba(74, 158, 255, 0.25); }
  .add-btn:active { transform: scale(0.98); }

  .add-btn svg { flex-shrink: 0; }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    max-width: 960px;
    margin: 0 auto;
  }

  .watch-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 18px;
    transition: border-color 0.2s;
    animation: fadeIn 0.25s ease;
  }

  .watch-card.running {
    border-color: rgba(74, 158, 255, 0.35);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .watch-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .label-input {
    background: none;
    border: none;
    color: var(--text-dim);
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    outline: none;
    width: 100%;
    padding: 2px 0;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s, color 0.2s;
  }

  .label-input:focus {
    border-bottom-color: var(--accent);
    color: var(--text);
  }

  .label-input::placeholder { color: var(--text-muted); }

  .delete-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: color 0.2s, background 0.2s;
    flex-shrink: 0;
    margin-left: 8px;
  }

  .delete-btn:hover { color: var(--red); background: var(--red-dim); }

  .display {
    font-family: 'DM Mono', monospace;
    font-size: 38px;
    font-weight: 300;
    color: var(--text);
    letter-spacing: -0.01em;
    line-height: 1;
  }

  .display .ms {
    font-size: 20px;
    color: var(--text-muted);
    margin-left: 2px;
  }

  .watch-card.running .display { color: #fff; }

  .controls {
    display: flex;
    gap: 10px;
  }

  .btn {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    border: 1px solid;
    transition: background 0.15s, transform 0.1s;
    letter-spacing: 0.03em;
  }

  .btn:active { transform: scale(0.97); }

  .btn-start {
    background: var(--green-dim);
    border-color: var(--green);
    color: var(--green);
  }

  .btn-start:hover { background: rgba(61, 214, 140, 0.25); }

  .btn-pause {
    background: var(--accent-dim);
    border-color: var(--accent);
    color: var(--accent);
  }

  .btn-pause:hover { background: rgba(74, 158, 255, 0.25); }

  .btn-reset {
    background: transparent;
    border-color: var(--border);
    color: var(--text-muted);
    flex: 0 0 auto;
    padding: 10px 16px;
  }

  .btn-reset:hover { border-color: var(--text-muted); color: var(--text-dim); }

  .empty {
    grid-column: 1 / -1;
    text-align: center;
    padding: 60px 20px;
    color: var(--text-muted);
    font-size: 14px;
  }
</style>
</head>
<body>

<header>
  <h1>Stopwatches</h1>
  <p>Track multiple tasks independently</p>
</header>

<button class="add-btn" onclick="addWatch()">
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
    <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
  </svg>
  Add Stopwatch
</button>

<div class="grid" id="grid">
  <div class="empty" id="empty">No stopwatches yet. Add one above.</div>
</div>

<script>
  let watches = [];
  let idCounter = 0;

  function pad(n) { return String(n).padStart(2, '0'); }

  function formatTime(ms) {
    const h = Math.floor(ms / 3600000);
    const m = Math.floor((ms % 3600000) / 60000);
    const s = Math.floor((ms % 60000) / 1000);
    const cs = Math.floor((ms % 1000) / 10);
    return {
      main: h > 0 ? `${pad(h)}:${pad(m)}:${pad(s)}` : `${pad(m)}:${pad(s)}`,
      ms: pad(cs)
    };
  }

  function addWatch() {
    const id = ++idCounter;
    const watch = {
      id,
      label: '',
      elapsed: 0,
      running: false,
      startTime: null,
      interval: null
    };
    watches.push(watch);
    renderCard(watch);
    document.getElementById('empty')?.remove();
  }

  function renderCard(watch) {
    const grid = document.getElementById('grid');
    const card = document.createElement('div');
    card.className = 'watch-card';
    card.id = `card-${watch.id}`;
    card.innerHTML = `
      <div class="watch-top">
        <input class="label-input" placeholder="Label this timerâ€¦" value="${watch.label}"
          oninput="watches.find(w=>w.id===${watch.id}).label=this.value">
        <button class="delete-btn" onclick="removeWatch(${watch.id})" title="Remove">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
            <path d="M2 2l10 10M12 2L2 12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="display" id="display-${watch.id}">
        <span class="time">00:00</span><span class="ms">.00</span>
      </div>
      <div class="controls">
        <button class="btn btn-start" id="toggle-${watch.id}" onclick="toggle(${watch.id})">Start</button>
        <button class="btn btn-reset" onclick="reset(${watch.id})">Reset</button>
      </div>
    `;
    grid.appendChild(card);
  }

  function toggle(id) {
    const w = watches.find(w => w.id === id);
    if (!w) return;
    if (w.running) {
      clearInterval(w.interval);
      w.elapsed += Date.now() - w.startTime;
      w.running = false;
    } else {
      w.startTime = Date.now();
      w.running = true;
      w.interval = setInterval(() => tick(id), 50);
    }
    updateToggleBtn(w);
    document.getElementById(`card-${id}`).classList.toggle('running', w.running);
  }

  function tick(id) {
    const w = watches.find(w => w.id === id);
    if (!w) return;
    const total = w.elapsed + (Date.now() - w.startTime);
    const { main, ms } = formatTime(total);
    const disp = document.getElementById(`display-${id}`);
    if (disp) disp.innerHTML = `<span class="time">${main}</span><span class="ms">.${ms}</span>`;
  }

  function reset(id) {
    const w = watches.find(w => w.id === id);
    if (!w) return;
    clearInterval(w.interval);
    w.elapsed = 0;
    w.running = false;
    w.startTime = null;
    const disp = document.getElementById(`display-${id}`);
    if (disp) disp.innerHTML = `<span class="time">00:00</span><span class="ms">.00</span>`;
    updateToggleBtn(w);
    document.getElementById(`card-${id}`)?.classList.remove('running');
  }

  function updateToggleBtn(w) {
    const btn = document.getElementById(`toggle-${w.id}`);
    if (!btn) return;
    btn.textContent = w.running ? 'Pause' : 'Start';
    btn.className = `btn ${w.running ? 'btn-pause' : 'btn-start'}`;
  }

  function removeWatch(id) {
    const w = watches.find(w => w.id === id);
    if (w) clearInterval(w.interval);
    watches = watches.filter(w => w.id !== id);
    document.getElementById(`card-${id}`)?.remove();
    if (watches.length === 0) {
      const empty = document.createElement('div');
      empty.className = 'empty';
      empty.id = 'empty';
      empty.textContent = 'No stopwatches yet. Add one above.';
      document.getElementById('grid').appendChild(empty);
    }
  }

  // Start with two watches
  addWatch();
  addWatch();
</script>
</body>
</html>